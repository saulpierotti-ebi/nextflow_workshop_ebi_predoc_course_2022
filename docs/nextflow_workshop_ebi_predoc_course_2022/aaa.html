<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 aaa | Nextflow workshop - EBI predoc course 2022</title>
  <meta name="description" content="5 aaa | Nextflow workshop - EBI predoc course 2022" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="5 aaa | Nextflow workshop - EBI predoc course 2022" />
  <meta property="og:type" content="book" />
  
  
  <meta name="github-repo" content="saulpierotti-ebi/saulpierotti-ebi.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 aaa | Nextflow workshop - EBI predoc course 2022" />
  
  
  

<meta name="author" content="Saul Pierotti, PhD student in the Birney group (European Bioinformatics Institute)" />


<meta name="date" content="2022-10-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="advanced-features.html"/>
<link rel="next" href="advanced-challenge.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction to the workshop</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction.html"><a href="introduction.html#prerequisites"><i class="fa fa-check"></i><b>1.1</b> Prerequisites</a></li>
<li class="chapter" data-level="1.2" data-path="introduction.html"><a href="introduction.html#what-is-nextflow"><i class="fa fa-check"></i><b>1.2</b> What is Nextflow?</a></li>
<li class="chapter" data-level="1.3" data-path="introduction.html"><a href="introduction.html#learning-objectives"><i class="fa fa-check"></i><b>1.3</b> Learning objectives</a></li>
<li class="chapter" data-level="1.4" data-path="introduction.html"><a href="introduction.html#setup"><i class="fa fa-check"></i><b>1.4</b> Setup</a></li>
<li class="chapter" data-level="1.5" data-path="introduction.html"><a href="introduction.html#getting-started"><i class="fa fa-check"></i><b>1.5</b> Getting started</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="introduction.html"><a href="introduction.html#general-anatomy-of-a-nextflow-workflow"><i class="fa fa-check"></i><b>1.5.1</b> General anatomy of a Nextflow workflow</a></li>
<li class="chapter" data-level="1.5.2" data-path="introduction.html"><a href="introduction.html#nextflow-domain-specific-language-versions"><i class="fa fa-check"></i><b>1.5.2</b> Nextflow domain specific language versions</a></li>
<li class="chapter" data-level="1.5.3" data-path="introduction.html"><a href="introduction.html#core-concepts"><i class="fa fa-check"></i><b>1.5.3</b> Core concepts</a></li>
<li class="chapter" data-level="1.5.4" data-path="introduction.html"><a href="introduction.html#your-first-workflow"><i class="fa fa-check"></i><b>1.5.4</b> Your first workflow</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-features.html"><a href="basic-features.html"><i class="fa fa-check"></i><b>2</b> Basic features</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic-features.html"><a href="basic-features.html#multiple-processes-and-publication-of-workflow-outputs"><i class="fa fa-check"></i><b>2.1</b> Multiple processes and publication of workflow outputs</a></li>
<li class="chapter" data-level="2.2" data-path="basic-features.html"><a href="basic-features.html#creating-channels-and-specifying-pipeline-parameters"><i class="fa fa-check"></i><b>2.2</b> Creating channels and specifying pipeline parameters</a></li>
<li class="chapter" data-level="2.3" data-path="basic-features.html"><a href="basic-features.html#multiple-input-files"><i class="fa fa-check"></i><b>2.3</b> Multiple input files</a></li>
<li class="chapter" data-level="2.4" data-path="basic-features.html"><a href="basic-features.html#using-a-sample-sheet-and-value-channels"><i class="fa fa-check"></i><b>2.4</b> Using a sample sheet and value channels</a></li>
<li class="chapter" data-level="2.5" data-path="basic-features.html"><a href="basic-features.html#software-dependencies"><i class="fa fa-check"></i><b>2.5</b> Software dependencies</a></li>
<li class="chapter" data-level="2.6" data-path="basic-features.html"><a href="basic-features.html#resource-allocation"><i class="fa fa-check"></i><b>2.6</b> Resource allocation</a></li>
<li class="chapter" data-level="2.7" data-path="basic-features.html"><a href="basic-features.html#the-resume-feature"><i class="fa fa-check"></i><b>2.7</b> The resume feature</a></li>
<li class="chapter" data-level="2.8" data-path="basic-features.html"><a href="basic-features.html#nf-core-pipelines"><i class="fa fa-check"></i><b>2.8</b> nf-core pipelines</a></li>
<li class="chapter" data-level="2.9" data-path="basic-features.html"><a href="basic-features.html#labels"><i class="fa fa-check"></i><b>2.9</b> Labels</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="basic-challenge.html"><a href="basic-challenge.html"><i class="fa fa-check"></i><b>3</b> Basic challenge</a></li>
<li class="chapter" data-level="4" data-path="advanced-features.html"><a href="advanced-features.html"><i class="fa fa-check"></i><b>4</b> Advanced features</a>
<ul>
<li class="chapter" data-level="4.1" data-path="advanced-features.html"><a href="advanced-features.html#process-inputs"><i class="fa fa-check"></i><b>4.1</b> Process inputs</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="aaa.html"><a href="aaa.html"><i class="fa fa-check"></i><b>5</b> aaa</a>
<ul>
<li class="chapter" data-level="5.1" data-path="aaa.html"><a href="aaa.html#the-groovy-programming-language"><i class="fa fa-check"></i><b>5.1</b> The Groovy programming language</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="aaa.html"><a href="aaa.html#closures"><i class="fa fa-check"></i><b>5.1.1</b> Closures</a></li>
<li class="chapter" data-level="5.1.2" data-path="aaa.html"><a href="aaa.html#conditional-statements"><i class="fa fa-check"></i><b>5.1.2</b> Conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="aaa.html"><a href="aaa.html#channel-factories"><i class="fa fa-check"></i><b>5.2</b> Channel factories</a></li>
<li class="chapter" data-level="5.3" data-path="aaa.html"><a href="aaa.html#operators"><i class="fa fa-check"></i><b>5.3</b> Operators</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="aaa.html"><a href="aaa.html#the-view-operator"><i class="fa fa-check"></i><b>5.3.1</b> The <code>view</code> operator</a></li>
<li class="chapter" data-level="5.3.2" data-path="aaa.html"><a href="aaa.html#the-map-operator"><i class="fa fa-check"></i><b>5.3.2</b> The <code>map</code> operator</a></li>
<li class="chapter" data-level="5.3.3" data-path="aaa.html"><a href="aaa.html#the-set-operator"><i class="fa fa-check"></i><b>5.3.3</b> The <code>set</code> operator</a></li>
<li class="chapter" data-level="5.3.4" data-path="aaa.html"><a href="aaa.html#the-splitcsv-operator"><i class="fa fa-check"></i><b>5.3.4</b> The <code>splitCsv</code> operator</a></li>
<li class="chapter" data-level="5.3.5" data-path="aaa.html"><a href="aaa.html#the-flatten-operator"><i class="fa fa-check"></i><b>5.3.5</b> The <code>flatten</code> operator</a></li>
<li class="chapter" data-level="5.3.6" data-path="aaa.html"><a href="aaa.html#the-collect-operator"><i class="fa fa-check"></i><b>5.3.6</b> The <code>collect</code> operator</a></li>
<li class="chapter" data-level="5.3.7" data-path="aaa.html"><a href="aaa.html#the-filter-operator"><i class="fa fa-check"></i><b>5.3.7</b> The <code>filter</code> operator</a></li>
<li class="chapter" data-level="5.3.8" data-path="aaa.html"><a href="aaa.html#the-first-operator"><i class="fa fa-check"></i><b>5.3.8</b> The <code>first</code> operator</a></li>
<li class="chapter" data-level="5.3.9" data-path="aaa.html"><a href="aaa.html#the-combine-operator"><i class="fa fa-check"></i><b>5.3.9</b> The <code>combine</code> operator</a></li>
<li class="chapter" data-level="5.3.10" data-path="aaa.html"><a href="aaa.html#the-grouptuple-operator"><i class="fa fa-check"></i><b>5.3.10</b> The <code>groupTuple</code> operator</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="aaa.html"><a href="aaa.html#directives"><i class="fa fa-check"></i><b>5.4</b> Directives</a></li>
<li class="chapter" data-level="5.5" data-path="aaa.html"><a href="aaa.html#execution-environments"><i class="fa fa-check"></i><b>5.5</b> Execution environments</a></li>
<li class="chapter" data-level="5.6" data-path="aaa.html"><a href="aaa.html#sub-workflows"><i class="fa fa-check"></i><b>5.6</b> Sub-workflows</a></li>
<li class="chapter" data-level="5.7" data-path="aaa.html"><a href="aaa.html#nextflow-tower"><i class="fa fa-check"></i><b>5.7</b> Nextflow tower</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="advanced-challenge.html"><a href="advanced-challenge.html"><i class="fa fa-check"></i><b>6</b> Advanced challenge</a></li>
<li class="chapter" data-level="7" data-path="additional-resources.html"><a href="additional-resources.html"><i class="fa fa-check"></i><b>7</b> Additional resources</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Nextflow workshop - EBI predoc course 2022</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="aaa" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> aaa<a href="aaa.html#aaa" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>### Input of type <code>val</code></p>
<p>An input of type <code>val</code> just defines a value, that is made available to the process as a variable.</p>
<p>As an example, the following code writes the value “Good morning” to the file called <code>my_file.txt</code>.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb66-1"><a href="aaa.html#cb66-1" aria-hidden="true" tabindex="-1"></a>process say_hello <span class="op">{</span></span>
<span id="cb66-2"><a href="aaa.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  input<span class="op">:</span></span>
<span id="cb66-3"><a href="aaa.html#cb66-3" aria-hidden="true" tabindex="-1"></a>    val greeting_sentence</span>
<span id="cb66-4"><a href="aaa.html#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="aaa.html#cb66-5" aria-hidden="true" tabindex="-1"></a>  output<span class="op">:</span></span>
<span id="cb66-6"><a href="aaa.html#cb66-6" aria-hidden="true" tabindex="-1"></a>    path <span class="st">&quot;my_file.txt&quot;</span></span>
<span id="cb66-7"><a href="aaa.html#cb66-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-8"><a href="aaa.html#cb66-8" aria-hidden="true" tabindex="-1"></a>  script<span class="op">:</span></span>
<span id="cb66-9"><a href="aaa.html#cb66-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb66-10"><a href="aaa.html#cb66-10" aria-hidden="true" tabindex="-1"></a><span class="st">    echo </span><span class="ss">$greeting_sentence</span><span class="st"> &gt; my_file.txt</span></span>
<span id="cb66-11"><a href="aaa.html#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;&quot;&quot;</span></span>
<span id="cb66-12"><a href="aaa.html#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb66-13"><a href="aaa.html#cb66-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-14"><a href="aaa.html#cb66-14" aria-hidden="true" tabindex="-1"></a>workflow <span class="op">{</span></span>
<span id="cb66-15"><a href="aaa.html#cb66-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Channel</span><span class="op">.</span><span class="fu">value</span><span class="op">(</span><span class="st">&quot;Good morning&quot;</span><span class="op">).</span><span class="fu">set</span><span class="op">{</span> my_ch <span class="op">}</span></span>
<span id="cb66-16"><a href="aaa.html#cb66-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">say_hello</span><span class="op">(</span> my_ch <span class="op">)</span></span>
<span id="cb66-17"><a href="aaa.html#cb66-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>### Input of type <code>path</code></p>
<p>An input of type <code>path</code> stages a file in the working directory of the process, and makes the filename available to the process under the variable declared.</p>
<p>As an example, the following code just reads the file <code>/path/to/a/file.txt</code> to the standard output.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb67-1"><a href="aaa.html#cb67-1" aria-hidden="true" tabindex="-1"></a>process read_file <span class="op">{</span></span>
<span id="cb67-2"><a href="aaa.html#cb67-2" aria-hidden="true" tabindex="-1"></a>  input<span class="op">:</span></span>
<span id="cb67-3"><a href="aaa.html#cb67-3" aria-hidden="true" tabindex="-1"></a>    path my_file</span>
<span id="cb67-4"><a href="aaa.html#cb67-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-5"><a href="aaa.html#cb67-5" aria-hidden="true" tabindex="-1"></a>  script<span class="op">:</span></span>
<span id="cb67-6"><a href="aaa.html#cb67-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb67-7"><a href="aaa.html#cb67-7" aria-hidden="true" tabindex="-1"></a><span class="st">    cat </span><span class="ss">$my_file</span></span>
<span id="cb67-8"><a href="aaa.html#cb67-8" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;&quot;&quot;</span></span>
<span id="cb67-9"><a href="aaa.html#cb67-9" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb67-10"><a href="aaa.html#cb67-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-11"><a href="aaa.html#cb67-11" aria-hidden="true" tabindex="-1"></a>workflow <span class="op">{</span></span>
<span id="cb67-12"><a href="aaa.html#cb67-12" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Channel</span><span class="op">.</span><span class="fu">fromPath</span><span class="op">(</span><span class="st">&quot;/path/to/a/file.txt&quot;</span><span class="op">).</span><span class="fu">set</span><span class="op">{</span> my_ch <span class="op">}</span></span>
<span id="cb67-13"><a href="aaa.html#cb67-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">read_file</span><span class="op">(</span> my_ch <span class="op">)</span></span>
<span id="cb67-14"><a href="aaa.html#cb67-14" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>### Input of type <code>tuple</code></p>
<p>An input of type <code>tuple</code> can be used when the channel given in input to the process emits lists of elements instead than single elements.
The elements contained in the list can be of any type, like for example <code>val</code> or <code>path</code>.</p>
<p>As an example, the following code appends the value “Good morning” to the file <code>/path/to/a/file.txt</code>.</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb68-1"><a href="aaa.html#cb68-1" aria-hidden="true" tabindex="-1"></a>process append_value_to_file <span class="op">{</span></span>
<span id="cb68-2"><a href="aaa.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  input<span class="op">:</span></span>
<span id="cb68-3"><a href="aaa.html#cb68-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tuple</span><span class="op">(</span></span>
<span id="cb68-4"><a href="aaa.html#cb68-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">path</span><span class="op">(</span>my_file<span class="op">),</span></span>
<span id="cb68-5"><a href="aaa.html#cb68-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">path</span><span class="op">(</span>my_value<span class="op">)</span></span>
<span id="cb68-6"><a href="aaa.html#cb68-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">)</span></span>
<span id="cb68-7"><a href="aaa.html#cb68-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-8"><a href="aaa.html#cb68-8" aria-hidden="true" tabindex="-1"></a>  script<span class="op">:</span></span>
<span id="cb68-9"><a href="aaa.html#cb68-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;&quot;&quot;</span></span>
<span id="cb68-10"><a href="aaa.html#cb68-10" aria-hidden="true" tabindex="-1"></a><span class="st">    echo </span><span class="ss">$my_value</span><span class="st"> &gt;&gt; </span><span class="ss">$my_file</span></span>
<span id="cb68-11"><a href="aaa.html#cb68-11" aria-hidden="true" tabindex="-1"></a><span class="st">    &quot;&quot;&quot;</span></span>
<span id="cb68-12"><a href="aaa.html#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb68-13"><a href="aaa.html#cb68-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-14"><a href="aaa.html#cb68-14" aria-hidden="true" tabindex="-1"></a>workflow <span class="op">{</span></span>
<span id="cb68-15"><a href="aaa.html#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span> <span class="op">[</span> <span class="st">&quot;Good morning&quot;</span><span class="op">,</span> <span class="st">/path/</span>to<span class="op">/</span>a<span class="op">/</span>file<span class="op">.</span><span class="fu">txt</span><span class="st">&quot; ] ).set{ my_ch }</span></span>
<span id="cb68-16"><a href="aaa.html#cb68-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">append_value_to_file</span><span class="op">(</span> my_ch <span class="op">)</span></span>
<span id="cb68-17"><a href="aaa.html#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<div id="the-groovy-programming-language" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> The Groovy programming language<a href="aaa.html#the-groovy-programming-language" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here we will talk about some features of the Groovy programming language, on which Nextflow is based, that can be useful when writing workflows.
If you want to test out some Groovy code interactively, head off to <a href="https://groovyconsole.appspot.com/">this website</a> and paste the code snippets that we will introduce.</p>
<div id="closures" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Closures<a href="aaa.html#closures" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We already introduced closures in previous section, where we used them in conjunction with the map operator.
In general, we can consider a closure as a unnamed function, defined as a statement enclosed in curly brackets.
The following is a closure</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb69-1"><a href="aaa.html#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> it<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">}</span></span></code></pre></div>
<p>We can manually define the inputs and outputs of a closure.
For example:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb70-1"><a href="aaa.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb70-2"><a href="aaa.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  x<span class="op">,</span> y <span class="op">-&gt;</span></span>
<span id="cb70-3"><a href="aaa.html#cb70-3" aria-hidden="true" tabindex="-1"></a>  z <span class="op">=</span> x <span class="op">+</span> y</span>
<span id="cb70-4"><a href="aaa.html#cb70-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> z</span>
<span id="cb70-5"><a href="aaa.html#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>In the above defined example the closure expects two inputs, (<code>x,y -&gt;</code>), some operation is performed on them (<code>z = x + y</code>), and a value is explicitly returned (<code>return z</code>).
The definition of inputs is optional, and indeed it is usually skipped.
If an input is not defined, the implicit variable <code>it</code> is used to refer to any input passed to the closure.
So we could write the following, assuming that a tuple of two elements is passed as an input to the closure</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb71-1"><a href="aaa.html#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb71-2"><a href="aaa.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  z <span class="op">=</span> it<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">+</span> it<span class="op">[</span><span class="dv">1</span><span class="op">]</span></span>
<span id="cb71-3"><a href="aaa.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> z</span>
<span id="cb71-4"><a href="aaa.html#cb71-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>What’s more, it is possible to also omit the <code>return</code> statement from a closure.
In this case, the last evaluated expression is returned.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb72-1"><a href="aaa.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> it<span class="op">[</span><span class="dv">0</span><span class="op">]</span> <span class="op">+</span> it<span class="op">[</span><span class="dv">1</span><span class="op">]</span> <span class="op">}</span></span></code></pre></div>
<p>As shown in the previous example, closures can be split on multiple lines or they can be written on a single line.
They can contain any valid Groovy code statement.
For example:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb73-1"><a href="aaa.html#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="op">{</span> <span class="cf">if</span> <span class="op">(</span> it <span class="op">&lt;</span> <span class="dv">1</span> <span class="op">)</span> <span class="op">{</span><span class="st">&quot;small&quot;</span><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span> <span class="st">&quot;big&quot;</span> <span class="op">}</span> <span class="op">}</span></span></code></pre></div>
</div>
<div id="conditional-statements" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Conditional statements<a href="aaa.html#conditional-statements" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Conditional statements in Groovy can be written in several ways.
The simplest approach is that of a classic if/else statement.
This can be written, for example, as follows.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb74-1"><a href="aaa.html#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="op">(</span> x <span class="op">&lt;</span> <span class="dv">1</span> <span class="op">)</span> <span class="op">{</span></span>
<span id="cb74-2"><a href="aaa.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  y <span class="op">=</span> <span class="st">&quot;small&quot;</span></span>
<span id="cb74-3"><a href="aaa.html#cb74-3" aria-hidden="true" tabindex="-1"></a><span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></span>
<span id="cb74-4"><a href="aaa.html#cb74-4" aria-hidden="true" tabindex="-1"></a>  y <span class="op">=</span> <span class="st">&quot;big&quot;</span></span>
<span id="cb74-5"><a href="aaa.html#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code></pre></div>
<p>A more compact syntax to achieve the same result takes advantage of the ternary operator</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb75-1"><a href="aaa.html#cb75-1" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> <span class="op">(</span> x <span class="op">&lt;</span> <span class="dv">1</span> <span class="op">)</span> <span class="op">?</span> <span class="st">&quot;small&quot;</span> <span class="op">:</span> <span class="st">&quot;big&quot;</span></span></code></pre></div>
<p>In case when the return value desired for the <code>TRUE</code> case is the statement itself, the Elvis operator can be used</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb76-1"><a href="aaa.html#cb76-1" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> my_list <span class="op">?:</span> <span class="st">&quot;list is empty&quot;</span></span></code></pre></div>
<p>In the latter case the variable <code>y</code> will contain the content of <code>my_list</code> if this is not empty, otherwise the string <code>list is empty</code>.</p>
</div>
</div>
<div id="channel-factories" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Channel factories<a href="aaa.html#channel-factories" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Besides the <code>Channel.fromPath</code> and <code>Channel.value</code> channel factories that we saw before, another useful Channel factory (especially for debugging purposes) is <code>Channel.of</code>.
<code>Channel.of</code> allows you tu put into a channel any Groovy data structure like lists, hash maps, and so on.
So takes as an example the following:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb77-1"><a href="aaa.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb77-2"><a href="aaa.html#cb77-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;EBI&quot;</span><span class="op">,</span> <span class="st">&quot;type&quot;</span><span class="op">:</span> <span class="st">&quot;institute&quot;</span><span class="op">,</span> <span class="st">&quot;location&quot;</span><span class="op">:</span> <span class="st">&quot;UK&quot;</span><span class="op">],</span></span>
<span id="cb77-3"><a href="aaa.html#cb77-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;GB&quot;</span><span class="op">,</span> <span class="st">&quot;type&quot;</span><span class="op">:</span> <span class="st">&quot;institute&quot;</span><span class="op">,</span> <span class="st">&quot;location&quot;</span><span class="op">:</span> <span class="st">&quot;Germany&quot;</span><span class="op">],</span></span>
<span id="cb77-4"><a href="aaa.html#cb77-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span></code></pre></div>
<p>This will create a channel emitting two elements, each of them a Groovy map containing three elements.
What especially differentiates <code>Channel.of</code> from <code>Channel.value</code> is that the latter can contain only a single element.</p>
</div>
<div id="operators" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Operators<a href="aaa.html#operators" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In the basic section of this workshop, we introduced a few Nextflow operators: <code>map</code>, <code>splitCsv</code>, <code>view</code>.
Here we will more formally describe such operators and also look at additional operators that can be helpful for workflows with a more complex logic.Note that this is not an exhaustive list.
An exhaustive list can be found <a href="https://www.nextflow.io/docs/latest/operator.html#">here</a>.</p>
<div id="the-view-operator" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> The <code>view</code> operator<a href="aaa.html#the-view-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>view</code> operator just prints to the terminal the content of the channel, one element per line.</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb78-1"><a href="aaa.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span><span class="op">).</span><span class="fu">view</span><span class="op">()</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>1
2
3</code></pre>
</div>
<div id="the-map-operator" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> The <code>map</code> operator<a href="aaa.html#the-map-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>map</code> operator can be used to modify the content of a channel on the fly.
For example, it can be used to extract just some elements from a channel emitting lists.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb80-1"><a href="aaa.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb80-2"><a href="aaa.html#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;EBI&quot;</span><span class="op">,</span> <span class="st">&quot;type&quot;</span><span class="op">:</span> <span class="st">&quot;institute&quot;</span><span class="op">,</span> <span class="st">&quot;location&quot;</span><span class="op">:</span> <span class="st">&quot;UK&quot;</span><span class="op">],</span></span>
<span id="cb80-3"><a href="aaa.html#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;name&quot;</span><span class="op">:</span> <span class="st">&quot;GB&quot;</span><span class="op">,</span> <span class="st">&quot;type&quot;</span><span class="op">:</span> <span class="st">&quot;institute&quot;</span><span class="op">,</span> <span class="st">&quot;location&quot;</span><span class="op">:</span> <span class="st">&quot;Germany&quot;</span><span class="op">],</span></span>
<span id="cb80-4"><a href="aaa.html#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb80-5"><a href="aaa.html#cb80-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">map</span><span class="op">{</span> it<span class="op">[</span><span class="st">&quot;name&quot;</span><span class="op">]</span> <span class="op">}</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>EBI
GB</code></pre>
</div>
<div id="the-set-operator" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> The <code>set</code> operator<a href="aaa.html#the-set-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>set</code> operator creates assigns a name to the channel, given as a closure argument.</p>
<pre><code>Channel.of(1, 2, 3).set{ my_ch }</code></pre>
<p>The above snippets creates a channel called <code>my_ch</code> with the values specified.</p>
</div>
<div id="the-splitcsv-operator" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> The <code>splitCsv</code> operator<a href="aaa.html#the-splitcsv-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>splitCsv</code> operator is usually used to process a sample sheet.
It takes a <code>path</code> channel containing a csv file and emits each line of the csv as a list of values (or as a hash map if <code>header: true</code> is specified).</p>
</div>
<div id="the-flatten-operator" class="section level3 hasAnchor" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> The <code>flatten</code> operator<a href="aaa.html#the-flatten-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>flatten</code> operator will take all the elements in a channel and split them in single elements.
If the channel emits lists or nested lists, they are flattened and each element is emitted independently.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb83-1"><a href="aaa.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb83-2"><a href="aaa.html#cb83-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">],</span></span>
<span id="cb83-3"><a href="aaa.html#cb83-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span><span class="st">&quot;aa&quot;</span><span class="op">,</span> <span class="st">&quot;bb&quot;</span><span class="op">,</span> <span class="st">&quot;cc&quot;</span><span class="op">]</span></span>
<span id="cb83-4"><a href="aaa.html#cb83-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb83-5"><a href="aaa.html#cb83-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">flatten</span><span class="op">()</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>1
2
3
aa
bb
cc</code></pre>
</div>
<div id="the-collect-operator" class="section level3 hasAnchor" number="5.3.6">
<h3><span class="header-section-number">5.3.6</span> The <code>collect</code> operator<a href="aaa.html#the-collect-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>collect</code> operator is in a way performing the opposite operation of the <code>flatten</code> operator.
It takes all the elements in a channel and collects them in a single list, which is then emitted all at once.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb85-1"><a href="aaa.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb85-2"><a href="aaa.html#cb85-2" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">],</span></span>
<span id="cb85-3"><a href="aaa.html#cb85-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">[</span><span class="st">&quot;aa&quot;</span><span class="op">,</span> <span class="st">&quot;bb&quot;</span><span class="op">,</span> <span class="st">&quot;cc&quot;</span><span class="op">]</span></span>
<span id="cb85-4"><a href="aaa.html#cb85-4" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb85-5"><a href="aaa.html#cb85-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">collect</span><span class="op">()</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>[1, 2, 3, aa, bb, cc]</code></pre>
</div>
<div id="the-filter-operator" class="section level3 hasAnchor" number="5.3.7">
<h3><span class="header-section-number">5.3.7</span> The <code>filter</code> operator<a href="aaa.html#the-filter-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>filter</code> operator filters the elements of a channel, emitting only the ones for which a condition is satisfied.
The condition is provided as a closure, with a boolean return value.
It is also possible to use a regular expression as a test, but we will not treat it here.</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb87-1"><a href="aaa.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">)</span></span>
<span id="cb87-2"><a href="aaa.html#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">.</span><span class="fu">filter</span><span class="op">{</span> it <span class="op">&gt;</span> <span class="dv">3</span> <span class="op">}</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>4
5</code></pre>
</div>
<div id="the-first-operator" class="section level3 hasAnchor" number="5.3.8">
<h3><span class="header-section-number">5.3.8</span> The <code>first</code> operator<a href="aaa.html#the-first-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>first</code> operator just emits the first element of a channel.
Useful for testing the logic without running the full workflow.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb89-1"><a href="aaa.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span><span class="op">).</span><span class="fu">first</span><span class="op">()</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>1</code></pre>
</div>
<div id="the-combine-operator" class="section level3 hasAnchor" number="5.3.9">
<h3><span class="header-section-number">5.3.9</span> The <code>combine</code> operator<a href="aaa.html#the-combine-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The combine operator creates the Cartesian product of two channels (all the possible combinations of elements).</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb91-1"><a href="aaa.html#cb91-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="dv">1</span><span class="op">,</span><span class="dv">2</span><span class="op">,</span><span class="dv">3</span><span class="op">).</span><span class="fu">set</span><span class="op">{</span> ch_1 <span class="op">}</span></span>
<span id="cb91-2"><a href="aaa.html#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span><span class="st">&quot;a&quot;</span><span class="op">,</span> <span class="st">&quot;b&quot;</span><span class="op">,</span> <span class="st">&quot;c&quot;</span><span class="op">).</span><span class="fu">set</span><span class="op">{</span> ch_2 <span class="op">}</span></span>
<span id="cb91-3"><a href="aaa.html#cb91-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb91-4"><a href="aaa.html#cb91-4" aria-hidden="true" tabindex="-1"></a>ch_1<span class="op">.</span><span class="fu">combine</span><span class="op">(</span>ch_2<span class="op">)</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>[1, a]
[2, a]
[1, b]
[2, b]
[3, a]
[3, b]
[1, c]
[2, c]
[3, c]</code></pre>
<p>The <code>combine</code> operator can also be used to join elements that present a matching key from two channels.
This is achieved by specifying the <code>by</code> argument, with an integer specifying the position in the tuple to use as a matching key.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb93-1"><a href="aaa.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb93-2"><a href="aaa.html#cb93-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="dv">1</span><span class="op">],</span></span>
<span id="cb93-3"><a href="aaa.html#cb93-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="dv">2</span><span class="op">],</span></span>
<span id="cb93-4"><a href="aaa.html#cb93-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key3&quot;</span><span class="op">,</span> <span class="dv">3</span><span class="op">],</span></span>
<span id="cb93-5"><a href="aaa.html#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="op">).</span><span class="fu">set</span><span class="op">{</span> ch_1 <span class="op">}</span></span>
<span id="cb93-6"><a href="aaa.html#cb93-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-7"><a href="aaa.html#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb93-8"><a href="aaa.html#cb93-8" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key3&quot;</span><span class="op">,</span> <span class="st">&quot;aa&quot;</span><span class="op">],</span></span>
<span id="cb93-9"><a href="aaa.html#cb93-9" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="st">&quot;bb&quot;</span><span class="op">],</span></span>
<span id="cb93-10"><a href="aaa.html#cb93-10" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="st">&quot;cc&quot;</span><span class="op">],</span></span>
<span id="cb93-11"><a href="aaa.html#cb93-11" aria-hidden="true" tabindex="-1"></a><span class="op">).</span><span class="fu">set</span><span class="op">{</span> ch_2 <span class="op">}</span></span>
<span id="cb93-12"><a href="aaa.html#cb93-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-13"><a href="aaa.html#cb93-13" aria-hidden="true" tabindex="-1"></a>ch_1<span class="op">.</span><span class="fu">combine</span><span class="op">(</span>ch_2<span class="op">,</span> by<span class="op">:</span> <span class="dv">0</span><span class="op">)</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>[key1, 1, bb]
[key3, 3, aa]
[key2, 2, cc]</code></pre>
</div>
<div id="the-grouptuple-operator" class="section level3 hasAnchor" number="5.3.10">
<h3><span class="header-section-number">5.3.10</span> The <code>groupTuple</code> operator<a href="aaa.html#the-grouptuple-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The <code>groupTuple</code> operator collects the elements of a channel according to a matching key (whose position is specified with the <code>by</code> argument).</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode groovy"><code class="sourceCode groovy"><span id="cb95-1"><a href="aaa.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="bu">Channel</span><span class="op">.</span><span class="fu">of</span><span class="op">(</span></span>
<span id="cb95-2"><a href="aaa.html#cb95-2" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="dv">1</span><span class="op">],</span></span>
<span id="cb95-3"><a href="aaa.html#cb95-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="dv">2</span><span class="op">],</span></span>
<span id="cb95-4"><a href="aaa.html#cb95-4" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="dv">3</span><span class="op">],</span></span>
<span id="cb95-5"><a href="aaa.html#cb95-5" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key2&quot;</span><span class="op">,</span> <span class="dv">4</span><span class="op">],</span></span>
<span id="cb95-6"><a href="aaa.html#cb95-6" aria-hidden="true" tabindex="-1"></a>  <span class="op">[</span><span class="st">&quot;key1&quot;</span><span class="op">,</span> <span class="dv">4</span><span class="op">],</span></span>
<span id="cb95-7"><a href="aaa.html#cb95-7" aria-hidden="true" tabindex="-1"></a><span class="op">)</span></span>
<span id="cb95-8"><a href="aaa.html#cb95-8" aria-hidden="true" tabindex="-1"></a><span class="op">.</span><span class="fu">groupTuple</span><span class="op">(</span>by<span class="op">:</span> <span class="dv">0</span><span class="op">)</span></span></code></pre></div>
<p>Expected output:</p>
<pre><code>[key1, [1, 3, 4]]
[key2, [2, 4]]</code></pre>
</div>
</div>
<div id="directives" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Directives<a href="aaa.html#directives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="execution-environments" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Execution environments<a href="aaa.html#execution-environments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="sub-workflows" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Sub-workflows<a href="aaa.html#sub-workflows" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="nextflow-tower" class="section level2 hasAnchor" number="5.7">
<h2><span class="header-section-number">5.7</span> Nextflow tower<a href="aaa.html#nextflow-tower" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="advanced-features.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="advanced-challenge.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "night",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/saulpierotti-ebi/saulpierotti-ebi.github.io/blob/main/source/nextflow_workshop_ebi_predoc_course_2022/03-advanced.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

</body>

</html>
